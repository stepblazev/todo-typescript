var g=Object.defineProperty;var k=(r,e,t)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var c=(r,e,t)=>(k(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const L='<svg class="icon-not-marked" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg"> <path d="M34 6H14c-2.21 0-3.98 1.79-3.98 4L10 42l14-6 14 6V10c0-2.21-1.79-4-4-4zm0 30l-10-4.35L14 36V10h20v26z" /> <path d="M0 0h48v48H0z" fill="none" /></svg>',v='<svg class="icon-marked" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M34 6h-20c-2.21 0-3.98 1.79-3.98 4l-.02 32 14-6 14 6v-32c0-2.21-1.79-4-4-4z" /><path d="M0 0h48v48h-48z" fill="none" /></svg>',T='<svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M13,16c0,1.654,1.346,3,3,3s3-1.346,3-3s-1.346-3-3-3S13,14.346,13,16z" id="XMLID_294_" /><path d="M13,26c0,1.654,1.346,3,3,3s3-1.346,3-3s-1.346-3-3-3S13,24.346,13,26z" id="XMLID_295_" /><path d="M13,6c0,1.654,1.346,3,3,3s3-1.346,3-3s-1.346-3-3-3S13,4.346,13,6z" id="XMLID_297_" /></svg>',_='<svg enable-background="new 0 0 80 80" height="80px" id="Icons" version="1.1" viewBox="0 0 80 80" width="80px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon points="61,37 43,37 43,19 37,19 37,37 19,37 19,43 37,43 37,61 43,61 43,43 61,43 " /></svg>',f='<svg class="icon-wait" id="Icons" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="cls-1" d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z" /><path class="cls-1" d="M13,11.586V6a1,1,0,0,0-2,0v6a1,1,0,0,0,.293.707l3,3a1,1,0,0,0,1.414-1.414Z" /></svg>',M='<svg class="icon-checked" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,18.0751322 18.0751322,23 12,23 Z M12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 Z M10,13.5857864 L15.2928932,8.29289322 L16.7071068,9.70710678 L10,16.4142136 L6.29289322,12.7071068 L7.70710678,11.2928932 L10,13.5857864 Z" fill-rule="evenodd" /></svg>',E='<svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256,213.7L256,213.7L256,213.7l174.2,167.2c4.3,4.2,11.4,4.1,15.8-0.2l30.6-29.9c4.4-4.3,4.5-11.3,0.2-15.5L264.1,131.1  c-2.2-2.2-5.2-3.2-8.1-3c-3-0.1-5.9,0.9-8.1,3L35.2,335.3c-4.3,4.2-4.2,11.2,0.2,15.5L66,380.7c4.4,4.3,11.5,4.4,15.8,0.2L256,213.7  z" /></svg>',C='<svg id="Layer_2" style="enable-background:new 0 0 32 32;" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M2.55566,7.33789c0,0.82813,0.67139,1.5,1.5,1.5h0.80078v17.72559c0,2.72168,2.21436,4.93652,4.93604,4.93652h12.41504   c2.72168,0,4.93604-2.21484,4.93604-4.93652V8.83789h0.80078c0.82861,0,1.5-0.67188,1.5-1.5s-0.67139-1.5-1.5-1.5h-5.24951V4.29102   c0-2.09082-1.7002-3.79102-3.79053-3.79102H13.0957c-2.09033,0-3.79053,1.7002-3.79053,3.79102v1.54688H4.05566   C3.22705,5.83789,2.55566,6.50977,2.55566,7.33789z M12.30518,4.29102c0-0.43652,0.35449-0.79102,0.79053-0.79102h5.80859   c0.43604,0,0.79053,0.35449,0.79053,0.79102v1.54688h-7.38965V4.29102z M7.85645,8.83789h16.28711v17.72559   c0,1.06738-0.86865,1.93652-1.93604,1.93652H9.79248c-1.06738,0-1.93604-0.86914-1.93604-1.93652V8.83789z" /><path d="M12.27246,25.7373c0.82861,0,1.5-0.67188,1.5-1.5V13.10059c0-0.82813-0.67139-1.5-1.5-1.5s-1.5,0.67188-1.5,1.5V24.2373   C10.77246,25.06543,11.44385,25.7373,12.27246,25.7373z" /><path d="M19.72754,25.7373c0.82861,0,1.5-0.67188,1.5-1.5V13.10059c0-0.82813-0.67139-1.5-1.5-1.5s-1.5,0.67188-1.5,1.5V24.2373   C18.22754,25.06543,18.89893,25.7373,19.72754,25.7373z" /></g></svg>',m={iconNotMarked:L,iconMarked:v,iconEdit:T,iconShowMore:_,iconWait:f,iconChecked:M,iconOrder:E,iconDelete:C};class x{constructor(e,t){c(this,"completed",!1);this.name=e,this.order=t}increaseOrder(){this.order+=1}decreaseOrder(){this.order-=1}setCompleted(e){this.completed=e}}class B{constructor(e){c(this,"id",Date.now());c(this,"title","");c(this,"marked",!1);c(this,"opened",!1);c(this,"tasks",[]);this.title=e}open(){this.opened=!0}hide(){this.opened=!1}setMarked(e){this.marked=e}addTask(e){const t=this.tasks.length,n=new x(e,t);return this.tasks.push(n),this.tasks}deleteTask(e){return this.tasks=this.tasks.filter(t=>t.order!=e),this.tasks}rename(e){this.title=e}}class I{constructor(){c(this,"topics",[])}getSearched(e,t){return this.topics.filter(s=>s.title.toLowerCase().includes(e.toLowerCase())&&(t?s.marked===!0:!0))}addTopic(e){const t=new B(e);return this.topics.push(t),this.topics}deleteTopic(e){return this.topics=this.topics.filter(t=>t.id!=e),this.topics}deleteAll(){this.topics=[]}}class O{constructor(){c(this,"_container",document.getElementById("container"));c(this,"_addButton",document.getElementById("add"));c(this,"_deleteButton",document.getElementById("delete"));c(this,"_searchInput",document.getElementById("search"));c(this,"_markedCheck",document.getElementById("marked"));c(this,"_nothingLabel",document.getElementById("nothing"));c(this,"Todo",new I);this.initEvents(),this.renderTopics(this.Todo.topics)}initEvents(){this._addButton.addEventListener("click",()=>{const t=prompt("New topic title:");if(!t)return;const n=this.Todo.addTopic(t);this.renderTopics(n)}),this._deleteButton.addEventListener("click",()=>{confirm("Clear the topic list?")&&this.Todo.deleteAll(),this.renderTopics([])});const e=()=>{const t=this._searchInput.value,n=this._markedCheck.checked,s=this.Todo.getSearched(t,n);console.log(this.Todo.topics),console.log(s),this.renderTopics(s)};this._searchInput.addEventListener("input",e),this._markedCheck.addEventListener("change",e)}renderTopics(e){if(this._container.innerHTML="",(e==null?void 0:e.length)===0){this._nothingLabel.classList.add("nothing_show");return}else this._nothingLabel.classList.remove("nothing_show");for(let t=0;t<e.length;t++){const n=e[t],s=document.createElement("div");s.classList.add("topic"),s.classList.add("hoverable"),n.opened&&s.classList.add("opened");const o=document.createElement("div");o.classList.add("topic__header");const i=document.createElement("button");i.classList.add("topic__mark"),n.marked&&i.classList.add("marked"),i.innerHTML=`${m.iconNotMarked}${m.iconMarked}`,i.addEventListener("click",()=>{i.classList.toggle("marked");const u=!n.marked;n.setMarked(u)});const d=document.createElement("h3");d.classList.add("topic__title"),d.textContent=n.title;const p=document.createElement("button");p.classList.add("topic__edit"),p.innerHTML=m.iconEdit,p.addEventListener("click",()=>{console.log("NOT READY YET")}),o.appendChild(i),o.appendChild(d),o.appendChild(p);const a=document.createElement("div");a.classList.add("topic__more");const l=document.createElement("div");l.classList.add("topic__line"),n.opened&&l.classList.add("opened");const h=document.createElement("button");h.classList.add("topic__show-more"),h.innerHTML=m.iconShowMore,h.addEventListener("click",()=>{s.classList.toggle("opened"),l.classList.toggle("opened"),!n.opened?n.open():n.hide()}),a.appendChild(l),a.appendChild(h);const w=this.renderTasks(e[t]);s.appendChild(o),s.appendChild(a),s.appendChild(w),this._container.appendChild(s)}}renderTasks(e){const{tasks:t}=e;t.sort((i,d)=>i.order-d.order);const n=document.createElement("div");n.classList.add("tasks");const s=document.createElement("ul");s.classList.add("tasks__list");for(let i=0;i<t.length;i++){const d=t[i],p=document.createElement("li");p.innerHTML=`${m.iconWait}${m.iconChecked}<span>${t[i].name}</span>`;const a=document.createElement("div");a.classList.add("tasks__controls");const l=document.createElement("button");l.classList.add("tasks__order"),l.innerHTML=m.iconOrder,l.addEventListener("click",()=>{console.log("NOT READY YET")});const h=document.createElement("button");h.classList.add("tasks__delete"),h.innerHTML=m.iconDelete,h.addEventListener("click",()=>{confirm(`Delete task '${d.name}'?`)}),a.appendChild(l),a.appendChild(h),p.appendChild(a),s.appendChild(p)}const o=document.createElement("button");return o.classList.add("tasks__add"),o.classList.add("hoverable"),o.textContent="New task",o.addEventListener("click",()=>{const i=prompt("Enter task name:");i&&(this.Todo.topics=this.Todo.topics.map(d=>(d.id!==e.id||d.addTask(i),d)),this.renderTopics(this.Todo.topics))}),n.appendChild(s),n.appendChild(o),n}}const b=new O;console.log(b);
